const n=JSON.parse('{"key":"v-08708fd1","path":"/%E5%89%8D%E7%AB%AF/vue/vue%E7%9B%91%E5%90%ACdom%E5%85%83%E7%B4%A0%E5%8F%98%E5%8C%96.html","title":"vue监听dom元素变化","lang":"zh-CN","frontmatter":{"date":"2023-10-03T00:00:00.000Z","category":["前端"],"tag":["前端","监听dom元素宽高变化"],"description":"vue监听dom元素变化 场景：适用于echarts随容器大小变化自适应的情况 好处：比直接监听浏览器页面变化更好，有些时候可能会出现浏览器页面宽高没变，但是dom容器宽高发生变化的可能。 html版本 以下代码可拖拽浏览器宽度查看效果 &lt;!DOCTYPE html&gt; &lt;html lang=\\"en\\"&gt; &lt;head&gt; &lt;meta charset=\\"UTF-8\\"&gt; &lt;meta name=\\"viewport\\" content=\\"width=device-width, initial-scale=1.0\\"&gt; &lt;title&gt;监听dom宽高变化&lt;/title&gt; &lt;style&gt; .content{ width: 30%; height: 100px; background-color: #999; } &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;div class=\\"content\\"&gt;&lt;/div&gt; &lt;div class=\\"info\\"&gt;&lt;/div&gt; &lt;script&gt; let resizeObserver = new ResizeObserver((entries) =&gt; { let { contentRect } = entries[0] console.log(entries) console.log(contentRect.width) document.querySelector(\\".info\\").innerHTML = ` content宽高：${contentRect.width}*${contentRect.height} ` }) resizeObserver.observe(document.querySelector(\\".content\\")) &lt;/script&gt; &lt;/body&gt; &lt;/html&gt;","head":[["meta",{"property":"og:url","content":"https://xianyufs.top/%E5%89%8D%E7%AB%AF/vue/vue%E7%9B%91%E5%90%ACdom%E5%85%83%E7%B4%A0%E5%8F%98%E5%8C%96"}],["meta",{"property":"og:site_name","content":"咸鱼要翻身"}],["meta",{"property":"og:title","content":"vue监听dom元素变化"}],["meta",{"property":"og:description","content":"vue监听dom元素变化 场景：适用于echarts随容器大小变化自适应的情况 好处：比直接监听浏览器页面变化更好，有些时候可能会出现浏览器页面宽高没变，但是dom容器宽高发生变化的可能。 html版本 以下代码可拖拽浏览器宽度查看效果 &lt;!DOCTYPE html&gt; &lt;html lang=\\"en\\"&gt; &lt;head&gt; &lt;meta charset=\\"UTF-8\\"&gt; &lt;meta name=\\"viewport\\" content=\\"width=device-width, initial-scale=1.0\\"&gt; &lt;title&gt;监听dom宽高变化&lt;/title&gt; &lt;style&gt; .content{ width: 30%; height: 100px; background-color: #999; } &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;div class=\\"content\\"&gt;&lt;/div&gt; &lt;div class=\\"info\\"&gt;&lt;/div&gt; &lt;script&gt; let resizeObserver = new ResizeObserver((entries) =&gt; { let { contentRect } = entries[0] console.log(entries) console.log(contentRect.width) document.querySelector(\\".info\\").innerHTML = ` content宽高：${contentRect.width}*${contentRect.height} ` }) resizeObserver.observe(document.querySelector(\\".content\\")) &lt;/script&gt; &lt;/body&gt; &lt;/html&gt;"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-10-05T13:49:52.000Z"}],["meta",{"property":"article:author","content":"guoyz"}],["meta",{"property":"article:tag","content":"前端"}],["meta",{"property":"article:tag","content":"监听dom元素宽高变化"}],["meta",{"property":"article:published_time","content":"2023-10-03T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2023-10-05T13:49:52.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"vue监听dom元素变化\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2023-10-03T00:00:00.000Z\\",\\"dateModified\\":\\"2023-10-05T13:49:52.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"guoyz\\",\\"url\\":\\"https://xianyufs.top\\",\\"email\\":\\"78300406@qq.com\\"}]}"]]},"headers":[{"level":2,"title":"html版本","slug":"html版本","link":"#html版本","children":[]},{"level":2,"title":"vue版本","slug":"vue版本","link":"#vue版本","children":[]}],"git":{"createdTime":1696513792000,"updatedTime":1696513792000,"contributors":[{"name":"guoyz","email":"18733972792@163.com","commits":1}]},"readingTime":{"minutes":1.19,"words":356},"filePathRelative":"前端/vue/vue监听dom元素变化.md","localizedDate":"2023年10月3日","excerpt":"<h1> vue监听dom元素变化</h1>\\n<p>场景：适用于echarts随容器大小变化自适应的情况</p>\\n<p>好处：比直接监听浏览器页面变化更好，有些时候可能会出现浏览器页面宽高没变，但是dom容器宽高发生变化的可能。</p>\\n<h2> html版本</h2>\\n<p>以下代码可拖拽浏览器宽度查看效果</p>\\n\\n<div class=\\"language-html line-numbers-mode\\" data-ext=\\"html\\"><pre class=\\"language-html\\"><code><span class=\\"token doctype\\"><span class=\\"token punctuation\\">&lt;!</span><span class=\\"token doctype-tag\\">DOCTYPE</span> <span class=\\"token name\\">html</span><span class=\\"token punctuation\\">&gt;</span></span>\\n<span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>html</span> <span class=\\"token attr-name\\">lang</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>en<span class=\\"token punctuation\\">\\"</span></span><span class=\\"token punctuation\\">&gt;</span></span>\\n<span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>head</span><span class=\\"token punctuation\\">&gt;</span></span>\\n    <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>meta</span> <span class=\\"token attr-name\\">charset</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>UTF-8<span class=\\"token punctuation\\">\\"</span></span><span class=\\"token punctuation\\">&gt;</span></span>\\n    <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>meta</span> <span class=\\"token attr-name\\">name</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>viewport<span class=\\"token punctuation\\">\\"</span></span> <span class=\\"token attr-name\\">content</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>width=device-width, initial-scale=1.0<span class=\\"token punctuation\\">\\"</span></span><span class=\\"token punctuation\\">&gt;</span></span>\\n    <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>title</span><span class=\\"token punctuation\\">&gt;</span></span>监听dom宽高变化<span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>title</span><span class=\\"token punctuation\\">&gt;</span></span>\\n    <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>style</span><span class=\\"token punctuation\\">&gt;</span></span><span class=\\"token style\\"><span class=\\"token language-css\\">\\n        <span class=\\"token selector\\">.content</span><span class=\\"token punctuation\\">{</span>\\n            <span class=\\"token property\\">width</span><span class=\\"token punctuation\\">:</span> 30%<span class=\\"token punctuation\\">;</span>\\n            <span class=\\"token property\\">height</span><span class=\\"token punctuation\\">:</span> 100px<span class=\\"token punctuation\\">;</span>\\n            <span class=\\"token property\\">background-color</span><span class=\\"token punctuation\\">:</span> #999<span class=\\"token punctuation\\">;</span>\\n        <span class=\\"token punctuation\\">}</span>\\n    </span></span><span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>style</span><span class=\\"token punctuation\\">&gt;</span></span>\\n<span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>head</span><span class=\\"token punctuation\\">&gt;</span></span>\\n<span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>body</span><span class=\\"token punctuation\\">&gt;</span></span>\\n    <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>div</span> <span class=\\"token attr-name\\">class</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>content<span class=\\"token punctuation\\">\\"</span></span><span class=\\"token punctuation\\">&gt;</span></span><span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>div</span><span class=\\"token punctuation\\">&gt;</span></span>\\n    <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>div</span> <span class=\\"token attr-name\\">class</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>info<span class=\\"token punctuation\\">\\"</span></span><span class=\\"token punctuation\\">&gt;</span></span><span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>div</span><span class=\\"token punctuation\\">&gt;</span></span>\\n    <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>script</span><span class=\\"token punctuation\\">&gt;</span></span><span class=\\"token script\\"><span class=\\"token language-javascript\\">\\n        <span class=\\"token keyword\\">let</span> resizeObserver <span class=\\"token operator\\">=</span> <span class=\\"token keyword\\">new</span> <span class=\\"token class-name\\">ResizeObserver</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">(</span><span class=\\"token parameter\\">entries</span><span class=\\"token punctuation\\">)</span> <span class=\\"token operator\\">=&gt;</span> <span class=\\"token punctuation\\">{</span>\\n            <span class=\\"token keyword\\">let</span> <span class=\\"token punctuation\\">{</span> contentRect <span class=\\"token punctuation\\">}</span> <span class=\\"token operator\\">=</span> entries<span class=\\"token punctuation\\">[</span><span class=\\"token number\\">0</span><span class=\\"token punctuation\\">]</span>\\n            console<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">log</span><span class=\\"token punctuation\\">(</span>entries<span class=\\"token punctuation\\">)</span>\\n            console<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">log</span><span class=\\"token punctuation\\">(</span>contentRect<span class=\\"token punctuation\\">.</span>width<span class=\\"token punctuation\\">)</span>\\n            document<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">querySelector</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">\\".info\\"</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">.</span>innerHTML <span class=\\"token operator\\">=</span> <span class=\\"token template-string\\"><span class=\\"token template-punctuation string\\">`</span><span class=\\"token string\\">\\n                content宽高：</span><span class=\\"token interpolation\\"><span class=\\"token interpolation-punctuation punctuation\\">${</span>contentRect<span class=\\"token punctuation\\">.</span>width<span class=\\"token interpolation-punctuation punctuation\\">}</span></span><span class=\\"token string\\">*</span><span class=\\"token interpolation\\"><span class=\\"token interpolation-punctuation punctuation\\">${</span>contentRect<span class=\\"token punctuation\\">.</span>height<span class=\\"token interpolation-punctuation punctuation\\">}</span></span><span class=\\"token string\\">\\n            </span><span class=\\"token template-punctuation string\\">`</span></span>\\n        <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">)</span>\\n        resizeObserver<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">observe</span><span class=\\"token punctuation\\">(</span>document<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">querySelector</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">\\".content\\"</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">)</span>\\n    </span></span><span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>script</span><span class=\\"token punctuation\\">&gt;</span></span>\\n<span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>body</span><span class=\\"token punctuation\\">&gt;</span></span>\\n<span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>html</span><span class=\\"token punctuation\\">&gt;</span></span>\\n</code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true}');export{n as data};
